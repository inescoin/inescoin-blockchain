#!/usr/bin/env php
<?php

// Copyright 2019-2021 The Inescoin developers.
// - Mounir R'Quiba
// Licensed under the GNU Affero General Public License, version 3.

require __DIR__.'/../../vendor/autoload.php';
require __DIR__ . '/../core/help.php';

use Inescoin\ES\ESBlockchainProvider;
use Inescoin\BlockchainConfig;

$params = getopt('', [
	'prefix::',
	'height::',
	'help::',
]);

$prefix = $params['prefix'] ?? BlockchainConfig::NAME;
$height = $params['height'] ?? 0;
$helpMe = array_key_exists('help', $params);

if ($helpMe) {
	die($help['reset']);
}

(ESBlockchainProvider::getInstance($prefix))->resetAll($height);
